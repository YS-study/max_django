{% extends 'base.html' %}

{% block content %}

{# qna table #}
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col" class='text-center'>번호</th>
      <th scope="col" class='text-center'>제목</th>
      <th scope="col" class='text-center'>등록일</th>
    </tr>
  </thead>
  <tbody>
    {% for question in questions %}
      <tr>
        <th scope="row" class='text-center'>{{ question.pk }}</th>
        <td>
          <a href="{% url 'board:qna_detail' question.pk %}" class="text-decoration-none text-dark">{{ question.title }}</a>
          {% if question.answer_set.count %}
            <small class="answer-bedge-todo"> 답변 완료 </small>
          {% else %}
            <small class="answer-bedge-complete"> 답변 대기 </small>
          {% endif %}
        </td>
        <td class='text-center'>{{ question.created_at|date:'Y.m.d' }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{# pagination #}
<nav aria-label="Page navigation example" class="d-flex justify-content-between">
  <div></div>
  <ul class="pagination mb-0">
    {% if questions.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ questions.previous_page_number }}">이전 페이지</a>
        </li>
    {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">이전 페이지</a>
        </li>
    {% endif %}
    
    <li class="page-item"><a class="page-link">Page {{ questions.number }} of {{ questions.paginator.num_pages }}</a></li>

    {% if questions.has_next %}  
      <li class="page-item">
        <a class="page-link" href="?page={{ questions.next_page_number }}">다음 페이지</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <a class="page-link" href="#">다음 페이지</a>
      </li>
    {% endif %}
  </ul>
  <button type="button" class="btn btn-primary"><a href="{% url 'board:qna_create'%}" class="text-decoration-none text-light">글쓰기</a></button>
</nav>

{% endblock content %}